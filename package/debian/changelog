nosh (1.16) unstable; urgency=low

  * The BSD packages now have maintainer scripts.
  * There is now a nosh-run-virtualbox-guest package that incorporates running VirtualBox Guest Additions.
  * More cross-platform services: pulseaudio
  * A bug has been fixed where the kernel-vt-* services were not marked as RemainAfterExit.
  * update-rc.d now translates enable to preset.
  * The functionality of convert-{rcconf,ttys,systemd}-presets is now rolled into preset.
  * There is now a service-is-enabled command.  system-control now has is-enabled that chains to it.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Sun, 31 May 2015 17:57:21 +0100

nosh (1.15) unstable; urgency=low

  * The build system now generates service bundles in a different way.  This should have no effect on the result, but builds will be more correct and result in fewer gratuitous bundle rewrites.
  * More cross-platform services: mailcatcher, gitlab-unicorn, gitlab-sidekiq, monit, vixiedhcp6d@, vixiedhcp4d@, nginx, fcgiwrap
  * service-status now prints a timestamp before the relative time.
  * The build process now attempts to generate some keyboard maps.
  * convert-ttys-presets now defaults to enabled in the absence of /etc/ttys .
  * There is now a local-fs-pre target for ordering things before mounts/fscks.
  * The console-setup and keyboard-setup services have been replaced by kernel-vt-{setfont,loadkeys,vidcontrol,kbdcontrol} services that are only used with kernel virtual terminals.
  * There is now an emergency-login program, accessible as a built-in from open-controlling-tty et al..
  * package/stage now exists to perform common package image staging tasks.
  * service-status now defaults to a longer form, with svstat retaining the shorter form and gaining a --long option.
  * convert-systemd-units recognizes shell variable expansions and employs the shell.
  * The qmail and exim4 SMTP Relay/Submission services now share a socket definition, and have been renamed.
  * The nosh-systemd-services package is now named nosh-run-via-systemd for consistency with the other nosh-run-* package names.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Mon, 25 May 2015 15:53:03 +0100

nosh (1.14) unstable; urgency=low

  * More cross-platform services: deluged, deluge-web, multilog@, sissylog@, openvpn@, wpa_supplicant, polkitd, timedated, localed, hostnamed, NetworkManager, ModemManager, sickbeard, plexmediaserver, ossec@dbd, ossec@agentlessd, ossec@csyslogd, ossec@execd, ossec@agentd, ossec@logcollector, ossec@syscheckd, ossec@maild, ossec@analysisd, ossec@remoted, ossec@monitord
  * The cups.service service has been renamed org.cups.cups.service to follow the service names used by CUPS packaging.
  * Fixed a bug in foreground and background where nested separators on the right-hand-side were not being preserved.
  * The previous regular sockets, sysinit services, and standard targets packages are now all merged into the bundles package.
  * There is now a new user VT package that runs new-style user VT services.
  * There is now a new kernel VT package that runs old-style kernel VT services.
  * The nosh-systemd-services package now automatically runs various nosh subsystems under systemd.
  * The maintainer scripts now create the cyclog@ user accounts, convert any systemd presets, and preset the services.
  * Fixed a bug in service-is-{ok,up} where a non-int exception was being thrown.
  * Fixed a bug in convert-systemd-units where it wasn't handling quoted whitespace in settings that take lists.
  * openstack-swift@.service is now swift@.service to make the usernames shorter.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Sat, 09 May 2015 16:58:02 +0100

nosh (1.13) unstable; urgency=low

  * Fixed a problem with handling "left+right" vt fonts that was being conflated with italic/oblique.
  * On BSD console-fb-realizer now attempts to maintain the keyboard LED state.  Note that a quirk of VirtualBox, which employs subtle tricks like secret extra keypresses to keep host and guest keyboard lock states in synch, will make it seem like nothing is happening.
  * SoftTerm now supports RIS and DECSTR.
  * More cross-platform services: hostapd, kmod@, fail2ban, nagios
  * More BSD services: bthidd
  * Added an unload-when-stopped command.
  * nagios-check-service now has a --critical-if-below-min option.
  * service-dt-scanner no longer defaults to using input-activated log services.
  * Added a convert-fstab-services command.
  * SoftTerm now does VT52x sideways scrolling.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Thu, 09 Apr 2015 19:39:47 +0100

nosh (1.12) unstable; urgency=low

  * setuidgid-fromenv now recognizes the GIDLIST environment variable.
  * vcsa output from console-terminal-emulator is now optional.
  * Fixed an endianness bug in console-fb-realizer when reading fonts wider than 8 pixels.
  * Fixed a mis-use of _POSIX_VDISABLE that was manifesting as some (the rarer) dead keys plus space turning into an erase character.
  * In sane mode, the erase character is now DEL and erase2 (BSD only) is BS.  This more closely corresponds with BSD stty sane behaviour.
  * console-terminal-emulator now supports the DECBKM control sequence that allows switching the backspace key between BS and DEL.  There is a "bspace" extension to BSD kbdmaps for taking advantage of this.
  * SoftTerm now implements DEC Origin Mode.
  * SoftTerm now implements DEC VT520 left and right margins, with xterm's DECLRMM bodge for distingushing between DECSLRM and SCOSC.
  * SoftTerm no longer treats Form Feed as a Clear Screen command.
  * SoftTerm now implements DECSCPP and DECSNLS and a console-resize command has been added.
  * console-multiplexor now no longer wakes up for changes to background virtual terminal display buffers.
  * console-multiplexor now only re-creates symbolic links when the foreground virtual terminal is switched, rather than on every update.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Mon, 12 Jan 2015 13:26:31 +0000

nosh (1.11) unstable; urgency=low

  * SoftTerm now produces some more (largely dummy) DEC VT status report control sequences.
  * convert-ttys-presets now supports the new onifconsole flag.
  * envdir now has a --chomp option.
  * system-control init now has an --update option.
  * Fixed an OBOE in SoftTerm's implementation of HPA and VPA.
  * console-ncurses-renderer has changed name to console-ncurses-realizer.
  * Added a console-fb-realizer, a console-multiplexer, and a console-convert-kbdmap command.
  * SoftTerm now supports switchable background colour erase.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Sun, 21 Dec 2014 18:42:40 +0000

nosh (1.10) unstable; urgency=low

  * Fixed a bug with ExecStartPre in one-shot services that was causing mount@.service to fail.
  * Added a --id option to login-process and support for the UTmpIdentifier setting in convert-systemd-units.
  * envuidgid now can optionally set the supplementary groups in the GIDLIST environment variable.
  * Added ttylogin-starter and a service to run it.
  * Fixed a bug in pty-run on Linux that was caused by a bug in libkqueue where it always returns an EVFILT_READ for a terminal device even if a read would block.
  * Fixed a bug in set-mount-object that was causing it to always fail.
  * Added convert-ttys-presets for converting /etc/ttys .
  * Now that systemd has an option for disabling the Nagle algorithm for TCP sockets, convert-systemd-units looks for a NoDelay= option not a Nagle= option as it used to.
  * Now that systemd has an option for setting AF_LOCAL socket ownership, convert-systemd-units translates it to the option that local-*-socket-listen already had.
  * convert-systemd-units now translates to using the --oknofile option to read-conf as appropriate.
  * Added console-terminal-emulator for doing terminal emulation behind a pseudo-terminal.
  * The terminal utilities are now separately packaged and in a separate program image file.
  * vc-ncurses-io has changed name to console-ncurses-renderer.
  * The terminal management part of the Guide has been expanded.
  * More Linux services: uuidd
  * Formerly BSD-only VirtualBox services are now cross-platform: kmod@vboxvideo, kmod@vboxsf, kmod@vboxpci, kmod@vboxnetflt, kmod@vboxnetadp, kmod@vboxguest, kmod@vboxdrv, kmod@vboxadd, VBoxService
  * More cross-platform services: openstack-swift@{object,container,account}{,-auditor,-updater,-replicator}, terminal-emulator@
  * vc-get-tty no longer supports the 6th Edition UNIX historical mechanism of using unadorned terminal numbers.
  * system-control now has load-kernel-module and unload-kernel-module verbs that devolve to the platform-specific commands.
  * Fixed a clangism with static_cast<> and casting away const.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Sun, 16 Nov 2014 00:59:26 +0000

nosh (1.9) unstable; urgency=low

  * More BSD services: utx, apm, apmd, auditdistd, ctld, ftp-proxy, kfd, swapon, pwcheck, mrouted, rpcstatd, rpclockd, keyserv, iscsid, iscsictl, sysctl, yppasswdd, ypxfrd, ypupdated, ypset, ypserv, pppoed, msgs, vixiecron
  * More Linux services: keyboard-setup, console-setup, pppd-dns, kerneloops, acpid
  * A new rcctl shim supplies limited compatibility with the OpenBSD tool.
  * Added convert-rcconf-presets for converting /etc/rc.conf{,.local} .
  * Added a vc-ncurses-io command.
  * The motd service is now named motd-dynamic, per the Debian init.d script of that name, allowing a BSD service to be named motd.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Sat, 18 Oct 2014 15:24:17 +0100

nosh (1.8) unstable; urgency=low

  * More cross-platform services: keepalived, dovecot, wicd
  * More BSD services: ccd, timed, mroute4d, mroute6d, rwhod, ipxrouted, nfscbd, nfsuserd, bootparams
  * system-control now has a built-in version subcommand.
  * Fixed a bug with convert-systemd-units and Environment= settings that attempt to unset environment variables.
  * Added an ExecRestartPre= setting to convert-systemd-units.
  * Fixed a bug in the regular-services postrm script.
  * Fixed a bug that prevented the fastXYZ system V shims from being recognized.
  * Documented the nagios-check-service command.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Tue, 07 Oct 2014 23:17:56 +0100

nosh (1.7) unstable; urgency=low

  * More cross-platform services: rsync nscd securelevel svnserve postgresql vsftpd
  * More BSD services: swapauto swaplate quota routed route6d kadmind kpasswdd gssd hastd rarpd zfs zfs-jailed lpd bsnmpd watchdogd rtsold auditd amd
  * Added a convert-systemd-presets command.
  * Added a nagios-check-service command.
  * convert-systemd-units now relates termination and kill signals to Restart=on-abort and Restart=on-failure.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Mon, 14 Jul 2014 12:40:15 +0100

nosh (1.6) unstable; urgency=low

  * Added compatibility initctl, invoke-rc.d, and update-rc.d commands.
  * The chkconfig command is now restricted to a specific functionality subset.
  * service-show now displays orderings and dependencies.
  * More cross-platform services: rpcbind smartd ypbind nisdomain
  * system-control reset is now for start/stop what system-control preset is for enable/disable.
  * convert-systemd-units now handles some directives that can be repeated.
  * Added foreground, background, and userenv commands.
  * system-control now performs a DOWN-wait-KILL procedure on services that take more than 60 seconds to stop.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Fri, 25 Apr 2014 12:44:37 +0100

nosh (1.5) unstable; urgency=low

  * The mount and fsck services are now generated from templates.
  * Template instance names can now optionally be escaped.
  * The TCP and UDP socket listeners now support SO_REUSEPORT and IP_FREEBIND/IP_BINDANY.
  * Added make-private-fs, set-mount-object, and unshare.
  * Tweaked the service manager's state machine to better handle some state transitions.
  * More cross-platform services: motd
  * convert-systemd-units now handles IP addresses in ListenStream=/ListenDatagram=.
  * The disallocate option to open-controlling-tty has been removed.  It was a Linuxism that never worked, and that relies upon hardwired assumptions about device names even on multi-head systems.
  * open-controlling-tty now works around a Linux bug with the TIOCSCTTY ioctl where it sometimes returns an error but works anyway.
  * start/stop/enable/disable/preset/status/show now understand the .service, .socket, and .target extensions to imply different search paths.
  * The system manager now attempts to properly shut down the service manager and its logger at system shutdown.
  * The service manager now stops+unloads services and exits when it is sent a termination signal.
  * There is now a bundled Guide.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Wed, 26 Mar 2014 22:20:17 +0000

nosh (1.4) unstable; urgency=low

  * More BSD services: background-fsck, mixer@, uhidd@, and powerd
  * More Linux services: kmod@
  * More cross-platform services: fsck-root
  * Fixed a signal masking problem in system-manager's state machine.
  * Ordered the mount-* services before local-fs.
  * Fixed a problem in system-control where it was waiting for the "ok" FIFO to come up.
  * convert-systemd-units now uses explicit template instantiations if they exist.
  * Fixed an ordering problem in system-control start/stop that was hanging shutdown.
  * Documented the pause command.
  * system-manager now invokes system-control start with the --verbose option.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Mon, 03 Mar 2014 23:23:19 +0000

nosh (1.3) unstable; urgency=low

  * Fixed an array bounds problem in "system-control status".
  * The convert-systemd-units tool now supports templatization.
  * Regular sockets and services now come with accompanying log services, all built from a template.
  * Split local-socket-listen into local-stream-socket-listen and local-datagram-socket-listen.
  * Renamed local-socket-accept to local-stream-socket-accept.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Wed, 19 Feb 2014 15:00:42 +0000

nosh (1.2) unstable; urgency=low

  * Made vc-reset-tty also set up default tabstops.
  * Corrected some documentation.
  * Removed an errant debugging statement from pty-run.
  * Enhanced the convert-systemd-units tool.
  * Added a bunch of pre-packaged system targets, sysinit services, regular services, and regular sockets.
  * Added udp-socket-listen.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Fri, 14 Feb 2014 08:18:28 +0000

nosh (1.1) unstable; urgency=low

  * Added ucspi-socket-rules-check for checking access control rules for UCSPI-TCP and UCSPI-UNIX services.
  * Corrected the way that system-control start and stop were processing dependencies.
  * Fixed a compilation problem on FreeBSD 10.
  * Added a compatibility chkconfig command.

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Mon, 03 Feb 2014 08:43:22 +0000

nosh (1.0) unstable; urgency=low

  * first version

 -- Jonathan de Boyne Pollard <J.deBoynePollard-newsgroups@NTLWorld.COM>  Tue, 28 Jan 2014 00:00:00 +0000
